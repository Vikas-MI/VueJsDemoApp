{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineRule, ErrorMessage, Field, Form } from \"vee-validate\";\nimport axios from \"axios\";\nimport Header from \"@/components/Header.vue\";\ndefineRule('required', value => {\n  if (!value || !value.length) {\n    return 'This field is required';\n  }\n  return true;\n});\ndefineRule('email', value => {\n  // Field is empty, should pass\n  if (!value || !value.length) {\n    return true;\n  }\n  // Check if email\n  if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n    return 'This field must be a valid email';\n  }\n  return true;\n});\ndefineRule('mobile', value => {\n  // Field is empty, should pass\n  if (!value || !value.length) {\n    return true;\n  }\n  if (value.length !== 10) {\n    return \"Please provide 10 Digit numeric value\";\n  }\n  // Check if email\n  if (!/^[1-9]{1}[0-9]{9}$/.test(value)) {\n    return 'This field must be a valid mobile';\n  }\n  return true;\n});\nexport default {\n  name: \"Update\",\n  data() {\n    return {\n      restaurant: {\n        name: \"\",\n        contact: \"\",\n        address: \"\"\n      }\n    };\n  },\n  components: {\n    Header,\n    Form,\n    Field,\n    ErrorMessage\n  },\n  methods: {\n    async addRestaurant(submitEvent) {\n      let result = await axios.put(\"http://192.168.1.250:3000/restaurant/\" + this.$route.params.id, {\n        name: submitEvent.name,\n        contact: submitEvent.contact,\n        address: submitEvent.address\n      });\n      await this.$router.push({\n        name: 'Home'\n      });\n    }\n  },\n  async mounted() {\n    let user = localStorage.getItem('userInfo');\n    if (!user) {\n      this.$router.push({\n        name: 'Login'\n      });\n    }\n    const result = await axios.get(\"http://192.168.1.250:3000/restaurant/\" + this.$route.params.id);\n    this.restaurant = result.data;\n  }\n};","map":{"version":3,"names":["defineRule","ErrorMessage","Field","Form","axios","Header","value","length","test","name","data","restaurant","contact","address","components","methods","addRestaurant","submitEvent","result","put","$route","params","id","$router","push","mounted","user","localStorage","getItem","get"],"sources":["/Applications/MAMP/htdocs/Vue/Demo/restaurant-app/restaurent-app/src/components/Update.vue"],"sourcesContent":["<template>\n    <Header></Header>\n    <h3>Update restaurant</h3>\n    <Form  @submit=\"addRestaurant\">\n        <div class=\"container\">\n            <div class=\"mb-3 row justify-content-center\">\n                <div class=\"col-md-3\">\n                    <label for=\"formGroupExampleInput2\" class=\"form-label\">Name</label>\n                    <Field type=\"text\"  v-model=\"restaurant.name\" class=\"form-control\" id=\"formGroupExampleInput2\" placeholder=\"Enter name\" name=\"name\" rules=\"required\"  />\n                    <ErrorMessage class=\"danger\" name=\"name\" />\n                </div>\n            </div>\n            <div class=\"mb-3 row justify-content-center\">\n                <div class=\"col-md-3\">\n                    <label for=\"formGroupExampleInput2\" class=\"form-label\">Contact</label>\n                    <Field type=\"text\"  v-model=\"restaurant.contact\" class=\"form-control\" id=\"formGroupExampleInput2\" placeholder=\"Enter contact\" name=\"contact\" rules=\"required|mobile\"  />\n                    <ErrorMessage class=\"danger\" name=\"contact\" />\n                </div>\n            </div>\n            <div class=\"mb-3 row justify-content-center\">\n                <div class=\"col-md-3\">\n                    <label for=\"formGroupExampleInput2\" class=\"form-label\">Address</label>\n                    <Field type=\"text\" v-model=\"restaurant.address\" class=\"form-control\" id=\"formGroupExampleInput2\" placeholder=\"Enter address\" name=\"address\" rules=\"required\"  />\n                    <ErrorMessage class=\"danger\" name=\"address\" />\n                </div>\n            </div>\n            <div class=\"mb-3 row justify-content-center\">\n                <div class=\"col-md-3\">\n                    <button type=\"submit\" class=\"btn btn-primary form-control\"> Submit </button>\n                </div>\n            </div>\n        </div>\n    </Form>\n</template>\n\n<script>\n\nimport {defineRule, ErrorMessage, Field, Form} from \"vee-validate\";\nimport axios from \"axios\";\nimport Header from \"@/components/Header.vue\";\n\ndefineRule('required', value => {\n    if (!value || !value.length) {\n        return 'This field is required';\n    }\n    return true;\n});\ndefineRule('email', value => {\n    // Field is empty, should pass\n    if (!value || !value.length) {\n        return true;\n    }\n    // Check if email\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n        return 'This field must be a valid email';\n    }\n    return true;\n});\ndefineRule('mobile', value => {\n    // Field is empty, should pass\n    if (!value || !value.length) {\n        return true;\n    }\n    if (value.length !== 10) {\n        return \"Please provide 10 Digit numeric value\";\n    }\n    // Check if email\n    if (!/^[1-9]{1}[0-9]{9}$/.test(value)) {\n        return 'This field must be a valid mobile';\n    }\n    return true;\n});\nexport default {\n    name: \"Update\",\n    data()\n    {\n        return {\n            restaurant: {\n                name : \"\",\n                contact : \"\",\n                address : \"\"\n            }\n        }\n    },\n    components: {\n        Header,\n        Form,\n        Field,\n        ErrorMessage,\n    },\n    methods : {\n        async addRestaurant(submitEvent){\n            let result = await axios.put(\"http://192.168.1.250:3000/restaurant/\"+this.$route.params.id,{\n                name : submitEvent.name,\n                contact : submitEvent.contact,\n                address : submitEvent.address\n            })\n            await this.$router.push({name: 'Home'})\n        }\n    },\n    async mounted() {\n        let user = localStorage.getItem('userInfo');\n        if(!user) {\n            this.$router.push({name: 'Login'})\n        }\n        const result = await axios.get(\"http://192.168.1.250:3000/restaurant/\"+this.$route.params.id)\n        this.restaurant = result.data\n    },\n}\n</script>\n<style>\n\n</style>"],"mappings":";AAqCA,SAAQA,UAAU,EAAEC,YAAY,EAAEC,KAAK,EAAEC,IAAI,QAAO,cAAc;AAClE,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,yBAAyB;AAE5CL,UAAU,CAAC,UAAU,EAAEM,KAAI,IAAK;EAC5B,IAAI,CAACA,KAAI,IAAK,CAACA,KAAK,CAACC,MAAM,EAAE;IACzB,OAAO,wBAAwB;EACnC;EACA,OAAO,IAAI;AACf,CAAC,CAAC;AACFP,UAAU,CAAC,OAAO,EAAEM,KAAI,IAAK;EACzB;EACA,IAAI,CAACA,KAAI,IAAK,CAACA,KAAK,CAACC,MAAM,EAAE;IACzB,OAAO,IAAI;EACf;EACA;EACA,IAAI,CAAC,+CAA+C,CAACC,IAAI,CAACF,KAAK,CAAC,EAAE;IAC9D,OAAO,kCAAkC;EAC7C;EACA,OAAO,IAAI;AACf,CAAC,CAAC;AACFN,UAAU,CAAC,QAAQ,EAAEM,KAAI,IAAK;EAC1B;EACA,IAAI,CAACA,KAAI,IAAK,CAACA,KAAK,CAACC,MAAM,EAAE;IACzB,OAAO,IAAI;EACf;EACA,IAAID,KAAK,CAACC,MAAK,KAAM,EAAE,EAAE;IACrB,OAAO,uCAAuC;EAClD;EACA;EACA,IAAI,CAAC,oBAAoB,CAACC,IAAI,CAACF,KAAK,CAAC,EAAE;IACnC,OAAO,mCAAmC;EAC9C;EACA,OAAO,IAAI;AACf,CAAC,CAAC;AACF,eAAe;EACXG,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EACJ;IACI,OAAO;MACHC,UAAU,EAAE;QACRF,IAAG,EAAI,EAAE;QACTG,OAAM,EAAI,EAAE;QACZC,OAAM,EAAI;MACd;IACJ;EACJ,CAAC;EACDC,UAAU,EAAE;IACRT,MAAM;IACNF,IAAI;IACJD,KAAK;IACLD;EACJ,CAAC;EACDc,OAAM,EAAI;IACN,MAAMC,aAAaA,CAACC,WAAW,EAAC;MAC5B,IAAIC,MAAK,GAAI,MAAMd,KAAK,CAACe,GAAG,CAAC,uCAAuC,GAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAC;QACvFb,IAAG,EAAIQ,WAAW,CAACR,IAAI;QACvBG,OAAM,EAAIK,WAAW,CAACL,OAAO;QAC7BC,OAAM,EAAII,WAAW,CAACJ;MAC1B,CAAC;MACD,MAAM,IAAI,CAACU,OAAO,CAACC,IAAI,CAAC;QAACf,IAAI,EAAE;MAAM,CAAC;IAC1C;EACJ,CAAC;EACD,MAAMgB,OAAOA,CAAA,EAAG;IACZ,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAC3C,IAAG,CAACF,IAAI,EAAE;MACN,IAAI,CAACH,OAAO,CAACC,IAAI,CAAC;QAACf,IAAI,EAAE;MAAO,CAAC;IACrC;IACA,MAAMS,MAAK,GAAI,MAAMd,KAAK,CAACyB,GAAG,CAAC,uCAAuC,GAAC,IAAI,CAACT,MAAM,CAACC,MAAM,CAACC,EAAE;IAC5F,IAAI,CAACX,UAAS,GAAIO,MAAM,CAACR,IAAG;EAChC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { toast } from \"vue3-toastify\";\nimport Header from \"@/components/Header.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"Home\",\n  components: {\n    Header\n  },\n  data() {\n    return {\n      name: '',\n      restaurant: []\n    };\n  },\n  mounted() {\n    this.loadData();\n  },\n  methods: {\n    async deleteRestaurant(id) {\n      let result = await axios.delete(\"http://192.168.1.250:3000/restaurant/\" + id);\n      if (result.status === 200) {\n        toast.success('Record deleted successfully.');\n        await this.$router.push({\n          name: 'Home'\n        });\n        this.loadData();\n      }\n    },\n    async loadData() {\n      let user = localStorage.getItem('userInfo');\n      this.name = JSON.parse(user).name;\n      if (!user) {\n        this.$router.push({\n          name: 'Login'\n        });\n      }\n      let result = await axios.get(\"http://192.168.1.250:3000/restaurant\");\n      this.restaurant = result.data;\n    }\n  }\n};","map":{"version":3,"names":["toast","Header","axios","name","components","data","restaurant","mounted","loadData","methods","deleteRestaurant","id","result","delete","status","success","$router","push","user","localStorage","getItem","JSON","parse","get"],"sources":["/Applications/MAMP/htdocs/Vue/Demo/restaurant-app/restaurent-app/src/components/Home.vue"],"sourcesContent":["<template>\n    <Header></Header>\n    <h1 class=\"mt-10\">Hello {{ name }} Welcome to the dashboard.......</h1>\n    <table>\n\n    </table>\n\n    <table class=\"table table-striped\">\n        <div v-if=\"restaurant.length > 0 \">\n        <thead>\n            <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Contact</th>\n                <th scope=\"col\">Address</th>\n                <th scope=\"col\">Action</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"item in restaurant\" :key=item.id>\n                    <th>{{item.id}}</th>\n                    <th>{{item.name}}</th>\n                    <th>{{item.contact}}</th>\n                    <th>{{item.address}}</th>\n                    <th><router-link :to=\"'/update-restaurant/'+item.id\"> <font-awesome-icon icon=\"pen\" />\n                    </router-link>  |  <a @click=\"deleteRestaurant(item.id)\" href=\"#\"><font-awesome-icon icon=\"trash\" /></a> </th>\n            </tr>\n        </tbody>\n        </div>\n        <div v-else>\n        <tr class=\"no-data\">\n            <td colspan=\"14\">No data available in table</td>\n        </tr>\n        </div>\n\n    </table>\n</template>\n<script>\n\nimport {toast} from \"vue3-toastify\";\nimport Header from \"@/components/Header.vue\";\nimport axios from \"axios\";\nexport default {\n    name:\"Home\",\n    components : {\n        Header\n    },\n    data(){\n        return{\n            name :'',\n            restaurant : [],\n        }\n    },\n    mounted() {\n        this.loadData()\n    },\n    methods:{\n        async deleteRestaurant(id){\n            let result = await axios.delete(\"http://192.168.1.250:3000/restaurant/\"+id)\n            if(result.status === 200){\n                toast.success('Record deleted successfully.');\n                await this.$router.push({name: 'Home'})\n                this.loadData()\n            }\n        },\n        async loadData(){\n            let user = localStorage.getItem('userInfo');\n            this.name = JSON.parse(user).name;\n            if(!user){\n                this.$router.push({name: 'Login'})\n            }\n            let result = await axios.get(\"http://192.168.1.250:3000/restaurant\");\n            this.restaurant = result.data\n        }\n    },\n}\n</script>\n<style>\n.VueCarousel-slide {\n    height:100px;\n    color:#FFF;\n    background:#59ecff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-right:1px solid #FFF;\n    box-sizing:border-box;\n    font-size:12px;\n    text-align:center;\n}\n.example-slide {\n    align-items: center;\n    background-color: #666;\n    color: #999;\n    display: flex;\n    font-size: 1.5rem;\n    justify-content: center;\n    min-height: 10rem;\n}\n.mt-10{\n    margin-top: 10px;\n}\n\n</style>\n"],"mappings":";AAuCA,SAAQA,KAAK,QAAO,eAAe;AACnC,OAAOC,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAI,EAAC,MAAM;EACXC,UAAS,EAAI;IACTH;EACJ,CAAC;EACDI,IAAIA,CAAA,EAAE;IACF,OAAM;MACFF,IAAG,EAAG,EAAE;MACRG,UAAS,EAAI;IACjB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,QAAQ,EAAC;EAClB,CAAC;EACDC,OAAO,EAAC;IACJ,MAAMC,gBAAgBA,CAACC,EAAE,EAAC;MACtB,IAAIC,MAAK,GAAI,MAAMV,KAAK,CAACW,MAAM,CAAC,uCAAuC,GAACF,EAAE;MAC1E,IAAGC,MAAM,CAACE,MAAK,KAAM,GAAG,EAAC;QACrBd,KAAK,CAACe,OAAO,CAAC,8BAA8B,CAAC;QAC7C,MAAM,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAACd,IAAI,EAAE;QAAM,CAAC;QACtC,IAAI,CAACK,QAAQ,EAAC;MAClB;IACJ,CAAC;IACD,MAAMA,QAAQA,CAAA,EAAE;MACZ,IAAIU,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC3C,IAAI,CAACjB,IAAG,GAAIkB,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,CAACf,IAAI;MACjC,IAAG,CAACe,IAAI,EAAC;QACL,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC;UAACd,IAAI,EAAE;QAAO,CAAC;MACrC;MACA,IAAIS,MAAK,GAAI,MAAMV,KAAK,CAACqB,GAAG,CAAC,sCAAsC,CAAC;MACpE,IAAI,CAACjB,UAAS,GAAIM,MAAM,CAACP,IAAG;IAChC;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}